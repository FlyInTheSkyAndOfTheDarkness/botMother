# üß™ Production Testing Plan

## –û–±–∑–æ—Ä
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã AI Agents –≤ –ø—Ä–æ–¥–∞–∫—à–Ω-–æ–∫—Ä—É–∂–µ–Ω–∏–∏.

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –°–µ—Ä–≤–µ—Ä —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (OpenAI API Key, SerpAPI Key, Instagram credentials)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å `logrus` —É—Ä–æ–≤–µ–Ω—å)
- [ ] –î–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º —Å–µ—Ä–≤–µ—Ä–∞ (`docker logs` –∏–ª–∏ —Ñ–∞–π–ª–æ–≤—ã–µ –ª–æ–≥–∏)

### 2. –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã
- [ ] WhatsApp: –º–∏–Ω–∏–º—É–º 2-3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–æ–º–µ—Ä–∞
- [ ] Telegram: –º–∏–Ω–∏–º—É–º 2-3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–æ—Ç–∞ (—Ç–æ–∫–µ–Ω—ã)
- [ ] Instagram: –º–∏–Ω–∏–º—É–º 1 —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (access_token + page_id)

---

## üß™ –¢–µ—Å—Ç 1: –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —á–∞—Ç—ã

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

### –®–∞–≥–∏

#### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤
```bash
# –°–æ–∑–¥–∞—Ç—å 3 –∞–≥–µ–Ω—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
curl -X POST http://localhost:8080/api/agents \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Support Agent 1",
    "model": "gpt-4o-mini",
    "api_key": "sk-...",
    "system_prompt": "You are a helpful customer support agent.",
    "is_active": true
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ê–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ
- –í –ª–æ–≥–∞—Ö: `‚úÖ Agent created: Support Agent 1`

#### 1.2 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- **WhatsApp**: –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á–µ—Ä–µ–∑ QR-–∫–æ–¥
- **Telegram**: –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–æ–º
- **Instagram**: –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å access_token –∏ page_id

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç–∞—Ç—É—Å `connected: true`
- –í –ª–æ–≥–∞—Ö: `‚úÖ WhatsApp device connected`, `‚úÖ Telegram bot started`, `‚úÖ Instagram connected`

#### 1.3 –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ä–∞–∑–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å 5-10 —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ä–∞–∑–Ω—ã—Ö WhatsApp –Ω–æ–º–µ—Ä–æ–≤
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å 5-10 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–∞–∑–Ω—ã–µ Telegram —á–∞—Ç—ã
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å 5-10 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Instagram DM

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç AI
- –í –ª–æ–≥–∞—Ö: `üí¨ [AgentHandler] Processing message`, `‚úÖ Response sent`
- –í Dashboard: —Å—á–µ—Ç—á–∏–∫–∏ `Messages Today` –∏ `Conversations` —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è

#### 1.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –æ–¥–Ω–æ–º—É –∞–≥–µ–Ω—Ç—É
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Live Chat
- –í –ë–î: –∫–∞–∂–¥—ã–π `remote_jid` –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é `conversation`

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] Dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- [ ] Live Chat –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã

---

## üß™ –¢–µ—Å—Ç 2: Working Hours

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (away message –≤–Ω–µ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤).

### –®–∞–≥–∏

#### 2.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Working Hours
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã: 09:00 - 18:00 (UTC)
curl -X PUT http://localhost:8080/api/agents/{agent_id}/settings \
  -H "Content-Type: application/json" \
  -d '{
    "working_hours": {
      "enabled": true,
      "timezone": "UTC",
      "schedule": {
        "monday": {"start": "09:00", "end": "18:00"},
        "tuesday": {"start": "09:00", "end": "18:00"},
        "wednesday": {"start": "09:00", "end": "18:00"},
        "thursday": {"start": "09:00", "end": "18:00"},
        "friday": {"start": "09:00", "end": "18:00"}
      },
      "away_message": "We are currently offline. We'll respond during business hours (9 AM - 6 PM UTC)."
    }
  }'
```

#### 2.2 –¢–µ—Å—Ç –≤–Ω—É—Ç—Ä–∏ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10:00 UTC)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª—É—á–µ–Ω –æ–±—ã—á–Ω—ã–π AI –æ—Ç–≤–µ—Ç
- –í –ª–æ–≥–∞—Ö: `‚úÖ [AgentService] Message processed during working hours`

#### 2.3 –¢–µ—Å—Ç –≤–Ω–µ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤
- –ò–∑–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 20:00 UTC)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª—É—á–µ–Ω away message
- –í –ª–æ–≥–∞—Ö: `‚è∞ [AgentService] Outside working hours, sending away message`

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] Away message –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–Ω–µ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤
- [ ] –û–±—ã—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã
- [ ] Timezone –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

---

## üß™ –¢–µ—Å—Ç 3: Translation

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

### –®–∞–≥–∏

#### 3.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Translation
```bash
curl -X PUT http://localhost:8080/api/agents/{agent_id}/settings \
  -H "Content-Type: application/json" \
  -d '{
    "translation": {
      "enabled": true,
      "source_language": "en",
      "auto_detect": true,
      "translate_incoming": true,
      "translate_outgoing": true
    }
  }'
```

#### 3.2 –¢–µ—Å—Ç –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∏—Å–ø–∞–Ω—Å–∫–æ–º: "Hola, ¬øc√≥mo est√°s?"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ AI –ø–æ–ª—É—á–∏–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üåê [AgentService] Detected language: es`
- –í –ª–æ–≥–∞—Ö: `üîÑ [AgentService] Translated incoming message from es to en`
- AI –æ—Ç–≤–µ—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –∏—Å–ø–∞–Ω—Å–∫–∏–π

#### 3.3 –¢–µ—Å—Ç –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—Ç–≤–µ—Ç AI –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üîÑ [AgentService] Translated outgoing response from en to es`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –∏—Å–ø–∞–Ω—Å–∫–æ–º

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è
- [ ] –ò—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–∞ –≤ –ª–æ–≥–∞—Ö

---

## üß™ –¢–µ—Å—Ç 4: Sentiment Analysis

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

### –®–∞–≥–∏

#### 4.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Sentiment
```bash
curl -X PUT http://localhost:8080/api/agents/{agent_id}/settings \
  -H "Content-Type: application/json" \
  -d '{
    "sentiment": {
      "enabled": true,
      "alert_on_negative": true,
      "negative_threshold": 0.5,
      "escalate_on_very_negative": true
    }
  }'
```

#### 4.2 –¢–µ—Å—Ç –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å: "Thank you so much! Great service!"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üìä [AgentService] Sentiment for user message: 0.85`
- –ù–µ—Ç –∞–ª–µ—Ä—Ç–æ–≤

#### 4.3 –¢–µ—Å—Ç –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å: "This is terrible! I'm very disappointed!"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üìä [AgentService] Sentiment for user message: -0.65`
- –í –ª–æ–≥–∞—Ö: `‚ö†Ô∏è  [AgentService] Negative sentiment detected`
- –ê–ª–µ—Ä—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

#### 4.4 –¢–µ—Å—Ç –æ—á–µ–Ω—å –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å: "This is the worst experience ever! I want a refund immediately!"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üö® [AgentService] Very negative sentiment detected, consider escalating to human`
- –†–∞–∑–≥–æ–≤–æ—Ä –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –≤ manual mode (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] Sentiment –∞–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–ª–µ—Ä—Ç—ã –Ω–∞ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –≠—Å–∫–∞–ª–∞—Ü–∏—è –Ω–∞ –æ—á–µ–Ω—å –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

---

## üß™ –¢–µ—Å—Ç 5: Broadcast Messages

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Å—Å–æ–≤—É—é —Ä–∞—Å—Å—ã–ª–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ –≤—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

### –®–∞–≥–∏

#### 5.1 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
- –°–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑ 50+ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
  - WhatsApp: —Å–ø–∏—Å–æ–∫ –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
  - Telegram: —Å–ø–∏—Å–æ–∫ chat_id
  - Instagram: —Å–ø–∏—Å–æ–∫ user_id

#### 5.2 –°–æ–∑–¥–∞–Ω–∏–µ Broadcast
```bash
curl -X POST http://localhost:8080/api/agents/{agent_id}/settings/broadcast \
  -H "Content-Type: application/json" \
  -d '{
    "message": "Hello! This is a test broadcast message.",
    "integration_type": "whatsapp",
    "recipients": ["+1234567890", "+0987654321", ...],
    "scheduled_at": null
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Broadcast —Å–æ–∑–¥–∞–Ω —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`
- –í –ª–æ–≥–∞—Ö: `üì¢ [BroadcastWorker] Processing broadcast`

#### 5.3 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å broadcast —á–µ—Ä–µ–∑ API:
```bash
curl http://localhost:8080/api/agents/{agent_id}/settings/broadcast/{broadcast_id}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è: `pending` ‚Üí `processing` ‚Üí `completed`
- –í –ª–æ–≥–∞—Ö: `‚úÖ [BroadcastWorker] Sent message to +1234567890`
- Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ –±–æ–ª–µ–µ N —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É)

#### 5.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ retry –ª–æ–≥–∏–∫–∏
- –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ WhatsApp)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `‚ö†Ô∏è  [BroadcastWorker] Failed to send, will retry`
- –ü–æ—Å–ª–µ retry —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Retry –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üß™ –¢–µ—Å—Ç 6: Follow-up Messages

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ follow-up —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

### –®–∞–≥–∏

#### 6.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Follow-up
```bash
curl -X PUT http://localhost:8080/api/agents/{agent_id}/settings \
  -H "Content-Type: application/json" \
  -d '{
    "follow_up": {
      "enabled": true,
      "delay_minutes": 5,
      "max_follow_ups": 2,
      "only_if_no_reply": true,
      "messages": [
        "Hi! Just checking in. Do you have any questions?",
        "We're here to help if you need anything!"
      ]
    }
  }'
```

#### 6.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–æ–∂–¥–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI
- **–ù–ï –æ—Ç–≤–µ—á–∞—Ç—å** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 6.3 –û–∂–∏–¥–∞–Ω–∏–µ Follow-up
- –ü–æ–¥–æ–∂–¥–∞—Ç—å 5+ –º–∏–Ω—É—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ follow-up —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üì¢ Follow-up worker: Sending follow-up to {remote_jid}`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç follow-up —Å–æ–æ–±—â–µ–Ω–∏–µ
- –í –ë–î: follow-up —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ conversation

#### 6.4 –¢–µ—Å—Ç "Only if no reply"
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–æ–∂–¥–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI
- **–û—Ç–≤–µ—Ç–∏—Ç—å** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–æ–∂–¥–∞—Ç—å 5+ –º–∏–Ω—É—Ç

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Follow-up **–ù–ï** –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
- –í –ª–æ–≥–∞—Ö: `‚è≠Ô∏è  Follow-up worker: User replied, skipping follow-up`

#### 6.5 –¢–µ—Å—Ç Max Follow-ups
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –¥–æ–∂–¥–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç–∞, –Ω–µ –æ—Ç–≤–µ—á–∞—Ç—å
- –î–æ–∂–¥–∞—Ç—å—Å—è 2 follow-up —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ 3-–π follow-up **–ù–ï** –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `‚è≠Ô∏è  Follow-up worker: Max follow-ups reached`

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] Follow-up –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–¥–µ—Ä–∂–∫–∏
- [ ] "Only if no reply" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Max follow-ups –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- [ ] Follow-up —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (WA/TG/IG)

---

## üß™ –¢–µ—Å—Ç 7: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ WhatsApp

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.

### –®–∞–≥–∏

#### 7.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å 3 —Ä–∞–∑–Ω—ã—Ö WhatsApp —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ä–∞–∑–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º

#### 7.2 –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üîç [AgentHandler] Matching integration by DeviceID: {device_id}`
- –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º
- –ù–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

#### 7.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ JID matching
- –û—Ç–∫–ª—é—á–∏—Ç—å –æ–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –µ–≥–æ –∑–∞–Ω–æ–≤–æ (–Ω–æ–≤—ã–π JID)
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –ª–æ–≥–∞—Ö: `üîç [AgentHandler] Matching integration by JID: {jid}`
- –°–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ –µ—â–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- [ ] JID matching —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] DeviceID matching —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

---

## üß™ –¢–µ—Å—Ç 8: Health Check & Status Monitoring

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.

### –®–∞–≥–∏

#### 8.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ Health API
```bash
curl http://localhost:8080/api/health
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "status": 200,
  "results": {
    "status": "healthy",
    "whatsapp": {
      "total_devices": 3,
      "connected_devices": 2
    },
    "telegram": {
      "total_bots": 2,
      "running_bots": 2
    },
    "active_agents": 3,
    "total_agents": 5
  }
}
```

#### 8.2 –¢–µ—Å—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –û—Ç–∫–ª—é—á–∏—Ç—å –æ–¥–Ω–æ WhatsApp —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Health API

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `connected_devices` —É–º–µ–Ω—å—à–∏–ª–æ—Å—å
- `status` –º–æ–∂–µ—Ç –±—ã—Ç—å `degraded` (–µ—Å–ª–∏ < 100% —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã)

#### 8.3 –¢–µ—Å—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ Telegram –±–æ—Ç–∞
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω Telegram –±–æ—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Health API

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `running_bots` —É–º–µ–Ω—å—à–∏–ª–æ—Å—å
- `status` –º–æ–∂–µ—Ç –±—ã—Ç—å `degraded`

#### 8.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
- –û—Ç–∫—Ä—ã—Ç—å Dashboard
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Health –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ —à–∞–ø–∫–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å (healthy/degraded/unhealthy)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤/–±–æ—Ç–æ–≤

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] Health API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- [ ] UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥)

---

## üß™ –¢–µ—Å—Ç 9: –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.

### –®–∞–≥–∏

#### 9.1 –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å 50+ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å CPU/RAM –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- CPU –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 80%

#### 9.2 –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ Broadcast
- –ó–∞–ø—É—Å—Ç–∏—Ç—å 3-5 broadcast –∫–∞–º–ø–∞–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ö–∞–∂–¥–∞—è —Å 100+ –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ broadcast –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã

#### 9.3 –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ Follow-up
- –°–æ–∑–¥–∞—Ç—å 50+ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- –í—Å–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å follow-up –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ follow-up –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –°–∏—Å—Ç–µ–º–∞ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- [ ] –õ–æ–≥–∏ –Ω–µ –ø–µ—Ä–µ–ø–æ–ª–Ω—è—é—Ç—Å—è
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

---

## üß™ –¢–µ—Å—Ç 10: Live Chat Features

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ Live Chat (TakeOver, AddNote, ExportChat).

### –®–∞–≥–∏

#### 10.1 TakeOver (–ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º)
```bash
curl -X POST http://localhost:8080/api/conversations/{conversation_id}/takeover \
  -H "Content-Type: application/json"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –†–∞–∑–≥–æ–≤–æ—Ä –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –≤ `manual_mode: true`
- AI –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –í –ª–æ–≥–∞—Ö: `‚úÖ Conversation {id} taken over by manager`

#### 10.2 AddNote
```bash
curl -X POST http://localhost:8080/api/conversations/{conversation_id}/notes \
  -H "Content-Type: application/json" \
  -d '{"notes": "Customer requested refund"}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ó–∞–º–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –ë–î
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Live Chat UI

#### 10.3 ExportChat
```bash
curl -X GET http://localhost:8080/api/conversations/{conversation_id}/export
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- CSV —Ñ–∞–π–ª —Å–∫–∞—á–∞–Ω
- –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

#### 10.4 SendMessage (–æ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞)
```bash
curl -X POST http://localhost:8080/api/conversations/{conversation_id}/messages \
  -H "Content-Type: application/json" \
  -d '{"message": "Hello from manager!"}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ë–î —Å —Ä–æ–ª—å—é `manager`

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] TakeOver —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] AddNote —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] ExportChat —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] SendMessage –æ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] Dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- [ ] Health –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞
- [ ] –õ–æ–≥–∏ –Ω–µ –ø–µ—Ä–µ–ø–æ–ª–Ω—è—é—Ç—Å—è

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: WhatsApp —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å QR-–∫–æ–¥, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å–µ—Å—Å–∏—è –Ω–µ –∏—Å—Ç–µ–∫–ª–∞, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (`IsBotRunning`), –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏.

### –ü—Ä–æ–±–ª–µ–º–∞: Instagram webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `INSTAGRAM_VERIFY_TOKEN` –∏ `INSTAGRAM_APP_SECRET`, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Facebook Developer Console.

### –ü—Ä–æ–±–ª–µ–º–∞: Broadcast –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ BroadcastWorker.

---

## üìù –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –ª–æ–≥–∞—Ö –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

- `‚úÖ` - –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `‚ùå` - –û—à–∏–±–∫–∏
- `‚ö†Ô∏è` - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `üí¨` - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- `üì¢` - Broadcast/Follow-up –æ–ø–µ—Ä–∞—Ü–∏–∏
- `üåê` - Translation –æ–ø–µ—Ä–∞—Ü–∏–∏
- `üìä` - Sentiment –∞–Ω–∞–ª–∏–∑
- `‚è∞` - Working hours –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–Ω

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω, –µ—Å–ª–∏:
1. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
2. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω
5. ‚úÖ Health checks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
6. ‚úÖ Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç
7. ‚úÖ Error handling —Ä–∞–±–æ—Ç–∞–µ—Ç

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024
**–í–µ—Ä—Å–∏—è:** 1.0

